// Generated by CoffeeScript 2.9.0
// index.coffee - Pure ES6 module version for cross-runtime compatibility
// Works with: Node.js, Bun, Deno, and browsers
var CoffeeScript;

import * as CoffeeScriptCore from './coffeescript.js';

// Create an enhanced object that includes both core functionality and Node.js-specific methods
CoffeeScript = Object.assign({}, CoffeeScriptCore, {
  // Add Node.js-specific methods for CLI compatibility
  run: async function(code, options = {}) {
    var compiled, ref, ref1, vm;
    // Simple implementation for Node.js compatibility
    if (typeof process !== 'undefined' && ((ref = process.versions) != null ? ref.node : void 0)) {
      vm = (await import('vm'));
      compiled = CoffeeScriptCore.compile(code, Object.assign({
        bare: true
      }, options));
      return vm.runInThisContext((ref1 = compiled.js) != null ? ref1 : compiled);
    } else {
      throw new Error('CoffeeScript.run is only available in Node.js environments');
    }
  },
  eval: function(code, options = {}) {
    var compiled, func, ref;
    // Simplified eval for compatibility
    if (!(code = code.trim())) {
      return;
    }
    compiled = CoffeeScriptCore.compile(code, Object.assign({
      bare: true
    }, options));
    // Use eval to execute the compiled code
    func = eval;
    return func((ref = compiled.js) != null ? ref : compiled);
  }
});

export * from './coffeescript.js';

// Export the enhanced CoffeeScript object as default
export default CoffeeScript;
