# Language Enhancements <img src="assets/logos/rip-icon-512wa.png" style="width:60px;float:right;" />

This document chronicles the language enhancements made in Rip compared to traditional CoffeeScript. Each enhancement is designed to generate cleaner, more modern JavaScript while maintaining full compatibility with existing CoffeeScript code.

## Table of Contents

1. [Bare Mode by Default](#bare-mode-by-default)

---

## 1. Bare Mode by Default

### Reason Added
Traditional CoffeeScript wraps all compiled code in an Immediately Invoked Function Expression (IIFE) to prevent variable pollution of the global scope. While this was important in the ES5 era, modern JavaScript development uses modules and build tools that make this wrapper unnecessary and visually cluttered.

### Purpose
- Generate cleaner, more readable JavaScript output
- Eliminate unnecessary function wrappers in modern development environments
- Reduce visual noise in compiled output
- Align with modern JavaScript conventions

### What It Allows
```coffeescript
# Simple CoffeeScript code
name = "World"
greeting = "Hello #{name}!"
console.log greeting
```

### Before (Traditional CoffeeScript)
```javascript
// Generated by CoffeeScript 2.7.0
(function() {
  var greeting, name;

  name = "World";

  greeting = `Hello ${name}!`;

  console.log(greeting);

}).call(this);
```

### After (Rip Enhancement)
```javascript
// Generated by Rip 0.1.0
var greeting, name;

name = "World";

greeting = `Hello ${name}!`;

console.log(greeting);
```

### Caveats
- **Global Scope**: Variables are now declared in the module scope rather than function scope
- **Legacy Code**: Existing code that relies on the IIFE wrapper may need adjustment
- **Variable Conflicts**: Potential for naming conflicts in environments without module systems

### Compatibility
- **Rip's Own Files**: Still use IIFE wrappers for bootstrap stability
- **User Code**: Gets clean bare mode output by default
- **Override**: The `--no-bare` flag can restore IIFE behavior when needed

---

*This document is updated as new language enhancements are added to Rip.*