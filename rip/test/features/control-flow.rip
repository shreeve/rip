# Control Flow Test Suite
# Testing conditionals, loops, and flow control

test = (name, fn) ->
  console.log "  âœ“ #{name}" if fn()
  console.log "  âœ— #{name}" unless fn()

assert = (condition) -> condition

console.log "\nðŸ”„ Control Flow Tests:"

test "if/else statements", ->
  getValue = (x) ->
    if x > 10
      "big"
    else
      "small"

  assert getValue(15) is "big"
  assert getValue(5) is "small"

test "if/else if/else chains", ->
  grade = (score) ->
    if score >= 90
      "A"
    else if score >= 80
      "B"
    else if score >= 70
      "C"
    else
      "F"

  assert grade(95) is "A"
  assert grade(85) is "B"
  assert grade(75) is "C"
  assert grade(65) is "F"

test "unless statement", ->
  result = null
  unless false
    result = "executed"

  assert result is "executed"

test "ternary conditional", ->
  max = (a, b) -> if a > b then a else b

  assert max(10, 5) is 10
  assert max(3, 8) is 8

test "postfix if", ->
  getValue = ->
    return 42 if true
    0

  assert getValue() is 42

test "postfix unless", ->
  values = []
  values.push(1) unless false
  values.push(2) unless true

  assert values.length is 1
  assert values[0] is 1

test "for loop", ->
  sum = 0
  sum += n for n in [1, 2, 3, 4, 5]

  assert sum is 15

test "while loop", ->
  count = 0
  total = 0

  while count < 5
    total += count
    count += 1

  assert total is 10

test "until loop", ->
  x = 0
  until x is 3
    x += 1

  assert x is 3

test "loop with break", ->
  result = 0
  for i in [1, 2, 3, 4, 5]
    break if i is 3
    result += i

  assert result is 3

console.log ""
