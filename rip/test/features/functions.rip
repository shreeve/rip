# Function Features Test Suite
# Testing functions, arrows, and calls

test = (name, fn) ->
  console.log "  âœ“ #{name}" if fn()
  console.log "  âœ— #{name}" unless fn()

assert = (condition) -> condition

console.log "\nðŸŽ¯ Function Tests:"

test "arrow functions work", ->
  double = (x) -> x * 2
  assert double(5) is 10

test "implicit returns", ->
  add = (a, b) -> a + b
  assert add(3, 7) is 10

test "nested functions", ->
  outer = (x) ->
    inner = (y) -> x + y
    inner(10)
  
  assert outer(5) is 15

test "function as values", ->
  ops = 
    add: (a, b) -> a + b
    sub: (a, b) -> a - b
  
  assert ops.add(10, 5) is 15
  assert ops.sub(10, 5) is 5

test "higher-order functions", ->
  apply = (fn, x) -> fn(x)
  square = (n) -> n * n
  
  assert apply(square, 4) is 16

test "default parameters", ->
  greet = (name = "World") -> "Hello, #{name}!"
  
  assert greet() is "Hello, World!"
  assert greet("Rip") is "Hello, Rip!"

test "rest parameters", ->
  sum = (first, ...rest) ->
    total = first
    total += n for n in rest
    total
  
  assert sum(1, 2, 3, 4) is 10

console.log ""
