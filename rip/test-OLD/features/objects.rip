# Object and Array Test Suite
# Testing data structures in Rip

test = (name, fn) ->
  console.log "  âœ“ #{name}" if fn()
  console.log "  âœ— #{name}" unless fn()

assert = (condition) -> condition

console.log "\nğŸ“¦ Object & Array Tests:"

test "object literals", ->
  person =
    name: "Alice"
    age: 30

  assert person.name is "Alice"
  assert person.age is 30

test "nested objects", ->
  config =
    server:
      host: "localhost"
      port: 3000
    database:
      name: "mydb"

  assert config.server.port is 3000
  assert config.database.name is "mydb"

test "object methods", ->
  calculator =
    value: 10
    add: (n) -> @value + n
    multiply: (n) -> @value * n

  assert calculator.add(5) is 15
  assert calculator.multiply(3) is 30

test "array literals", ->
  numbers = [1, 2, 3, 4, 5]
  assert numbers[0] is 1
  assert numbers[4] is 5
  assert numbers.length is 5

test "array comprehensions", ->
  squares = (n * n for n in [1, 2, 3, 4])
  assert squares[0] is 1
  assert squares[3] is 16

test "array destructuring", ->
  [first, second, ...rest] = [10, 20, 30, 40]

  assert first is 10
  assert second is 20
  assert rest[0] is 30
  assert rest[1] is 40

test "object destructuring", ->
  {name, age} = {name: "Bob", age: 25, city: "NYC"}

  assert name is "Bob"
  assert age is 25

test "spread in objects", ->
  defaults = {a: 1, b: 2}
  custom = {...defaults, b: 3, c: 4}

  assert custom.a is 1
  assert custom.b is 3
  assert custom.c is 4

console.log ""
